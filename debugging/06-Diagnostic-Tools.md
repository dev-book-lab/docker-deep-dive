# 06. Diagnostic Tools - ì§„ë‹¨ ë„êµ¬ ëª¨ìŒ

## ğŸ¯ ì´ ì±•í„°ì—ì„œ ë°°ìš¸ ê²ƒ

- **í•„ìˆ˜ ë„êµ¬**: docker, kubectl ê³ ê¸‰ ëª…ë ¹ì–´
- **ëª¨ë‹ˆí„°ë§ ë„êµ¬**: Prometheus, Grafana
- **ë””ë²„ê¹… ì»¨í…Œì´ë„ˆ**: nicolaka/netshoot, busybox
- **í”„ë¡œíŒŒì¼ë§ ë„êµ¬**: perf, pprof, jProfiler
- **ë¡œê·¸ ë¶„ì„ ë„êµ¬**: stern, kubetail
- **ì˜¬ì¸ì› ë„êµ¬**: k9s, Lens

## ğŸ“Œ ì™œ ì¤‘ìš”í•œê°€?

**"ì˜¬ë°”ë¥¸ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ë©´ ë””ë²„ê¹… ì‹œê°„ì„ 90% ë‹¨ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."**

```
Diagnostic Toolsì˜ í•µì‹¬:

Without Proper Tools:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ìˆ˜ë™ ë””ë²„ê¹…                                        â”‚
â”‚                                                 â”‚
â”‚ 1. docker ps (10ë²ˆ ì‹¤í–‰)                          â”‚
â”‚ 2. docker logs (ê° ì»¨í…Œì´ë„ˆë§ˆë‹¤)                    â”‚
â”‚ 3. docker exec (ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆì—)                    â”‚
â”‚ 4. grep, awk, sed (ë³µì¡í•œ íŒŒì´í”„)                   â”‚
â”‚                                                 â”‚
â”‚ ì‹œê°„: 30ë¶„                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

With Proper Tools:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ìë™í™”ëœ ë””ë²„ê¹…                                     â”‚
â”‚                                                 â”‚
â”‚ 1. k9s (ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ)                            â”‚
â”‚    - ëª¨ë“  Pod ìƒíƒœ í•œëˆˆì—                           â”‚
â”‚    - ë¡œê·¸ ìŠ¤íŠ¸ë¦¬ë°                                  â”‚
â”‚    - ì‰˜ ì§„ì… (í•œ ë²ˆì˜ í‚¤)                           â”‚
â”‚                                                 â”‚
â”‚ 2. stern (ë©€í‹° Pod ë¡œê·¸)                          â”‚
â”‚    stern myapp (ëª¨ë“  myapp Pod)                  â”‚
â”‚                                                 â”‚
â”‚ 3. nicolaka/netshoot (ë””ë²„ê¹… ì»¨í…Œì´ë„ˆ)              â”‚
â”‚    ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ë„êµ¬ í¬í•¨                            â”‚
â”‚                                                 â”‚
â”‚ ì‹œê°„: 3ë¶„                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Tool Categories:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. CLI Tools (ëª…ë ¹ì¤„)                             â”‚
â”‚    - docker, kubectl                            â”‚
â”‚    - stern, kubetail                            â”‚
â”‚    - dive, ctop                                 â”‚
â”‚                                                 â”‚
â”‚ 2. TUI (Terminal UI)                            â”‚
â”‚    - k9s, lazydocker                            â”‚
â”‚    - htop, iotop                                â”‚
â”‚                                                 â”‚
â”‚ 3. GUI Tools                                    â”‚
â”‚    - Lens, Docker Desktop                       â”‚
â”‚    - Portainer, Rancher                         â”‚
â”‚                                                 â”‚
â”‚ 4. Web Dashboard                                â”‚
â”‚    - Grafana, Kibana                            â”‚
â”‚    - Kubernetes Dashboard                       â”‚
â”‚                                                 â”‚
â”‚ 5. Debug Containers                             â”‚
â”‚    - nicolaka/netshoot                          â”‚
â”‚    - busybox, alpine                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Tool Selection:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì‘ì—…              â”‚ ë„êµ¬                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë¹ ë¥¸ ìƒíƒœ í™•ì¸      â”‚ k9s, docker ps             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë¡œê·¸ ë¶„ì„          â”‚ stern, lnav                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë„¤íŠ¸ì›Œí¬ ë””ë²„ê¹…      â”‚ netshoot, tcpdump          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì„±ëŠ¥ ë¶„ì„          â”‚ perf, flamegraph           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì´ë¯¸ì§€ ë¶„ì„         â”‚ dive, trivy                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ í´ëŸ¬ìŠ¤í„° ê´€ë¦¬       â”‚ Lens, k9s                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì‹¤ë¬´ ì˜í–¥:**
- **íš¨ìœ¨ì„±**: ë””ë²„ê¹… ì‹œê°„ 90% ë‹¨ì¶•
- **ì •í™•ì„±**: ì‹œê°í™”ë¡œ ë¹ ë¥¸ ì´í•´
- **ìƒì‚°ì„±**: ë°˜ë³µ ì‘ì—… ìë™í™”
- **ì „ë¬¸ì„±**: ê³ ê¸‰ ë„êµ¬ í™œìš©

---

## ğŸ”¬ Deep Dive

### 1. í•„ìˆ˜ CLI ë„êµ¬

#### docker ê³ ê¸‰ ëª…ë ¹ì–´

```bash
# ìƒíƒœë³„ í•„í„°
docker ps --filter "status=exited"
docker ps --filter "label=app=myapp"

# í¬ë§· ì¶œë ¥
docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}"

# ì´ë¯¸ì§€ ë¶„ì„
docker inspect myapp | jq '.[0].Config'

# ë¦¬ì†ŒìŠ¤ ì‚¬ìš©
docker stats --format "table {{.Name}}\t{{.CPUPerc}}\t{{.MemUsage}}"

# ì‹œìŠ¤í…œ ì •ë³´
docker system df  # ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰
docker system events --since 1h  # ì´ë²¤íŠ¸
```

#### kubectl ê³ ê¸‰ ëª…ë ¹ì–´

```bash
# ë¦¬ì†ŒìŠ¤ ì‚¬ìš©
kubectl top pods
kubectl top nodes

# Wide ì¶œë ¥
kubectl get pods -o wide

# Custom columns
kubectl get pods -o custom-columns=NAME:.metadata.name,STATUS:.status.phase,IP:.status.podIP

# JSON Path
kubectl get pods -o jsonpath='{.items[*].metadata.name}'

# ì—¬ëŸ¬ ë„¤ì„ìŠ¤í˜ì´ìŠ¤
kubectl get pods --all-namespaces

# ê°ì‹œ
kubectl get pods -w
```

---

### 2. ë””ë²„ê¹… ì „ìš© ì»¨í…Œì´ë„ˆ

#### nicolaka/netshoot

```bash
# ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ë„êµ¬ í¬í•¨
docker run -it --rm nicolaka/netshoot

# í¬í•¨ëœ ë„êµ¬:
# - ping, traceroute, mtr
# - curl, wget, httpie
# - tcpdump, nmap, netcat
# - dig, nslookup, host
# - iperf3, ab (Apache Bench)

# ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆ ë„¤íŠ¸ì›Œí¬ ê³µìœ 
docker run -it --rm --network container:myapp nicolaka/netshoot

# Kubernetes
kubectl run netshoot --rm -it --image=nicolaka/netshoot
```

#### busybox (ê²½ëŸ‰)

```bash
# ìµœì†Œí•œì˜ ë„êµ¬
docker run -it --rm busybox sh

# íŒŒì¼ ì‹œìŠ¤í…œ íƒìƒ‰
docker run -it --rm -v /:/host busybox
/ # ls /host
```

---

## ğŸ”§ ì‹¤ìŠµ 1: k9s - Kubernetes TUI

### Step 1: ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# ì„¤ì¹˜ (macOS)
brew install k9s

# ì„¤ì¹˜ (Linux)
curl -sS https://webinstall.dev/k9s | bash

# ì‹¤í–‰
k9s
```

### Step 2: ì£¼ìš” ë‹¨ì¶•í‚¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ k9s ë‹¨ì¶•í‚¤                                         â”‚
â”‚                                                  â”‚
â”‚ :pods      â†’ Pod ëª©ë¡                             â”‚
â”‚ :svc       â†’ Service ëª©ë¡                         â”‚
â”‚ :deploy    â†’ Deployment ëª©ë¡                      â”‚
â”‚ :ns        â†’ Namespace ëª©ë¡                       â”‚
â”‚                                                  â”‚
â”‚ <Enter>    â†’ ìƒì„¸ ì •ë³´                             â”‚
â”‚ l          â†’ ë¡œê·¸ ë³´ê¸°                             â”‚
â”‚ s          â†’ ì‰˜ ì ‘ì†                               â”‚
â”‚ d          â†’ Describe                            â”‚
â”‚ e          â†’ Edit                                â”‚
â”‚ <Ctrl-d>   â†’ ì‚­ì œ                                 â”‚
â”‚                                                  â”‚
â”‚ /          â†’ ê²€ìƒ‰                                 â”‚
â”‚ ?          â†’ ë„ì›€ë§                               â”‚
â”‚ :q         â†’ ì¢…ë£Œ                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Step 3: ì‹¤ì „ ì‚¬ìš©

```bash
# k9s ì‹¤í–‰
k9s

# 1. Pod ìƒíƒœ í™•ì¸
:pods
# ìƒ‰ìƒìœ¼ë¡œ ìƒíƒœ í‘œì‹œ
# - ë…¹ìƒ‰: Running
# - ë¹¨ê°„ìƒ‰: Error
# - ë…¸ë€ìƒ‰: Pending

# 2. ë¡œê·¸ ìŠ¤íŠ¸ë¦¬ë°
# Pod ì„ íƒ â†’ l
# ì‹¤ì‹œê°„ ë¡œê·¸ ìŠ¤íŠ¸ë¦¬ë°

# 3. ì‰˜ ì§„ì…
# Pod ì„ íƒ â†’ s
# ì¦‰ì‹œ ì‰˜ ì ‘ì†

# 4. ë¦¬ì†ŒìŠ¤ ì‚¬ìš©
# Shift + :
# :pulses (CPU/Memory)
```

---

## ğŸ”§ ì‹¤ìŠµ 2: stern - ë©€í‹° Pod ë¡œê·¸

### Step 1: ì„¤ì¹˜

```bash
# macOS
brew install stern

# Linux
wget https://github.com/stern/stern/releases/download/v1.28.0/stern_1.28.0_linux_amd64.tar.gz
tar -xzf stern_*.tar.gz
sudo mv stern /usr/local/bin/
```

### Step 2: ì‚¬ìš©ë²•

```bash
# ê¸°ë³¸ ì‚¬ìš© (ëª¨ë“  myapp Pod)
stern myapp

# ì •ê·œ í‘œí˜„ì‹
stern "myapp.*"

# ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì§€ì •
stern myapp -n production

# ì—¬ëŸ¬ ë„¤ì„ìŠ¤í˜ì´ìŠ¤
stern myapp --all-namespaces

# ì»¨í…Œì´ë„ˆ ì§€ì •
stern myapp -c app

# íƒ€ì„ìŠ¤íƒ¬í”„
stern myapp --timestamps

# ì»¨í…ìŠ¤íŠ¸ í¬í•¨ (ìƒ‰ìƒ)
stern myapp --color always

# tail (ìµœê·¼ Nì¤„)
stern myapp --tail 100

# íŠ¹ì • ì‹œê°„ ì´í›„
stern myapp --since 1h
```

### Step 3: í•„í„°ë§

```bash
# ì—ëŸ¬ë§Œ
stern myapp | grep ERROR

# íŠ¹ì • Pod
stern myapp | grep "myapp-123"

# JSON íŒŒì‹±
stern myapp | jq 'select(.level == "ERROR")'

# íŒŒì¼ë¡œ ì €ì¥
stern myapp > logs.txt
```

---

## ğŸ”§ ì‹¤ìŠµ 3: dive - Docker ì´ë¯¸ì§€ ë¶„ì„

### Step 1: ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# ì„¤ì¹˜
brew install dive

# ì´ë¯¸ì§€ ë¶„ì„
dive myapp:latest
```

### Step 2: UI íƒìƒ‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ dive í™”ë©´ êµ¬ì„±                                     â”‚
â”‚                                                  â”‚
â”‚ ì™¼ìª½: Layers (ë ˆì´ì–´ ëª©ë¡)                           â”‚
â”‚   - ê° ë ˆì´ì–´ í¬ê¸°                                  â”‚
â”‚   - ëª…ë ¹ì–´                                        â”‚
â”‚                                                  â”‚
â”‚ ì˜¤ë¥¸ìª½ ìƒë‹¨: Current Layer Contents                 â”‚
â”‚   - í•´ë‹¹ ë ˆì´ì–´ì˜ íŒŒì¼                                â”‚
â”‚   - ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ                                   â”‚
â”‚                                                  â”‚
â”‚ ì˜¤ë¥¸ìª½ í•˜ë‹¨: Layer Details                          â”‚
â”‚   - íš¨ìœ¨ì„± ì ìˆ˜                                     â”‚
â”‚   - ë‚­ë¹„ëœ ê³µê°„                                     â”‚
â”‚                                                  â”‚
â”‚ ë‹¨ì¶•í‚¤:                                            â”‚
â”‚   Tab: íŒ¨ë„ ì „í™˜                                   â”‚
â”‚   Ctrl+Space: íŒŒì¼ íŠ¸ë¦¬ ë³´ê¸°                        â”‚
â”‚   Ctrl+U: Unmodified íŒŒì¼ í‘œì‹œ                     â”‚
â”‚   Ctrl+A: Added íŒŒì¼ë§Œ                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Step 3: ì´ë¯¸ì§€ ìµœì í™”

```bash
# diveë¡œ ë°œê²¬í•œ ë¬¸ì œë“¤

# 1. í° ë ˆì´ì–´
# Layer 5: 500MB (npm_modules)
# â†’ .dockerignore ì¶”ê°€

# 2. ì¤‘ë³µ íŒŒì¼
# Layer 3: app.py (10MB)
# Layer 5: app.py (10MB) â† ì¤‘ë³µ!
# â†’ COPYë¥¼ í•œ ë²ˆë§Œ

# 3. ë¶ˆí•„ìš”í•œ íŒŒì¼
# Layer 4: /tmp/*.log (200MB)
# â†’ ë¹Œë“œ ì¤‘ ì •ë¦¬
RUN rm -rf /tmp/*.log
```

---

## ğŸ”§ ì‹¤ìŠµ 4: Prometheus + Grafana

### Step 1: Prometheus ì„¤ì •

```yaml
# prometheus.yml
global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'docker'
    static_configs:
    - targets: ['host.docker.internal:9323']
  
  - job_name: 'cadvisor'
    static_configs:
    - targets: ['cadvisor:8080']
  
  - job_name: 'node-exporter'
    static_configs:
    - targets: ['node-exporter:9100']
```

```yaml
# docker-compose.yml
version: '3.8'

services:
  # Prometheus
  prometheus:
    image: prom/prometheus
    ports:
      - "9090:9090"
    volumes:
      - ./prometheus.yml:/etc/prometheus/prometheus.yml
      - prometheus-data:/prometheus
  
  # cAdvisor (ì»¨í…Œì´ë„ˆ ë©”íŠ¸ë¦­)
  cadvisor:
    image: gcr.io/cadvisor/cadvisor
    ports:
      - "8080:8080"
    volumes:
      - /:/rootfs:ro
      - /var/run:/var/run:ro
      - /sys:/sys:ro
      - /var/lib/docker/:/var/lib/docker:ro
  
  # Node Exporter (í˜¸ìŠ¤íŠ¸ ë©”íŠ¸ë¦­)
  node-exporter:
    image: prom/node-exporter
    ports:
      - "9100:9100"
  
  # Grafana
  grafana:
    image: grafana/grafana
    ports:
      - "3000:3000"
    environment:
      - GF_SECURITY_ADMIN_PASSWORD=admin
    volumes:
      - grafana-data:/var/lib/grafana

volumes:
  prometheus-data:
  grafana-data:
```

### Step 2: Grafana ëŒ€ì‹œë³´ë“œ

```bash
# 1. Grafana ì ‘ì†
# http://localhost:3000
# admin/admin

# 2. Data Source ì¶”ê°€
# Configuration â†’ Data Sources â†’ Add Prometheus
# URL: http://prometheus:9090

# 3. ëŒ€ì‹œë³´ë“œ Import
# Dashboard â†’ Import
# ID: 893 (Docker Dashboard)
# ID: 1860 (Node Exporter Full)
```

---

## ğŸ”§ ì‹¤ìŠµ 5: ctop - ì»¨í…Œì´ë„ˆ top

### Step 1: ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# ì„¤ì¹˜
brew install ctop

# ì‹¤í–‰
ctop

# ë˜ëŠ” Dockerë¡œ
docker run --rm -it \
  --name ctop \
  -v /var/run/docker.sock:/var/run/docker.sock \
  quay.io/vektorlab/ctop
```

### Step 2: ì¸í„°í˜ì´ìŠ¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ctop - Docker ì»¨í…Œì´ë„ˆ ëª¨ë‹ˆí„°ë§                      â”‚
â”‚                                                  â”‚
â”‚ NAME          CPU    MEM    NET RX/TX  BLOCK I/Oâ”‚
â”‚ myapp-1       15%    500MB  10K/20K    1MB/2MB  â”‚
â”‚ postgres      5%     200MB  5K/10K     500K/1MB â”‚
â”‚ redis         2%     50MB   1K/2K      100K/200Kâ”‚
â”‚                                                 â”‚
â”‚ ë‹¨ì¶•í‚¤:                                           â”‚
â”‚   a: ëª¨ë“  ì»¨í…Œì´ë„ˆ (ì¤‘ì§€ í¬í•¨)                        â”‚
â”‚   f: í•„í„°                                        â”‚
â”‚   h: ë„ì›€ë§                                       â”‚
â”‚   s: ì •ë ¬ (CPU, Memory ë“±)                        â”‚
â”‚   <Enter>: ìƒì„¸ ì •ë³´                               â”‚
â”‚   l: ë¡œê·¸ ë³´ê¸°                                     â”‚
â”‚   e: ì‰˜ ì‹¤í–‰                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ ì‹¤ìŠµ 6: lazydocker - Docker TUI

### Step 1: ì„¤ì¹˜

```bash
# macOS
brew install lazydocker

# Linux
curl https://raw.githubusercontent.com/jesseduffield/lazydocker/master/scripts/install_update_linux.sh | bash
```

### Step 2: ì‚¬ìš©

```bash
# ì‹¤í–‰
lazydocker

# UI:
# - ì™¼ìª½: ì»¨í…Œì´ë„ˆ/ì´ë¯¸ì§€/ë³¼ë¥¨ ëª©ë¡
# - ì˜¤ë¥¸ìª½ ìƒë‹¨: ì„ íƒëœ ë¦¬ì†ŒìŠ¤ ìƒì„¸
# - ì˜¤ë¥¸ìª½ í•˜ë‹¨: ë¡œê·¸/Stats/Config

# ë‹¨ì¶•í‚¤:
# [: ì´ì „ íŒ¨ë„
# ]: ë‹¤ìŒ íŒ¨ë„
# x: ë©”ë‰´ (start, stop, remove ë“±)
# e: ë¡œê·¸ (ì „ì²´ í™”ë©´)
# m: Stats
# d: Delete
```

---

## ğŸ”§ ì‹¤ìŠµ 7: Lens - Kubernetes IDE

### Step 1: ì„¤ì¹˜

```bash
# https://k8slens.dev/ ì—ì„œ ë‹¤ìš´ë¡œë“œ
# macOS, Windows, Linux ì§€ì›
```

### Step 2: ê¸°ëŠ¥

```
Lens ì£¼ìš” ê¸°ëŠ¥:

1. í´ëŸ¬ìŠ¤í„° ê´€ë¦¬
   - ì—¬ëŸ¬ í´ëŸ¬ìŠ¤í„° ê´€ë¦¬
   - ì»¨í…ìŠ¤íŠ¸ ì „í™˜ ì‰¬ì›€

2. ë¦¬ì†ŒìŠ¤ íƒìƒ‰
   - Pod, Service, Deployment ë“±
   - íŠ¸ë¦¬ ë·°
   - ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸

3. ë¡œê·¸ & í„°ë¯¸ë„
   - í†µí•© ë¡œê·¸ ë·°ì–´
   - ë‚´ì¥ í„°ë¯¸ë„
   - ë©€í‹°íƒ­ ì§€ì›

4. ë©”íŠ¸ë¦­
   - ì‹¤ì‹œê°„ ê·¸ë˜í”„
   - CPU, Memory, Network
   - ì»¤ìŠ¤í…€ ëŒ€ì‹œë³´ë“œ

5. Helm
   - ì°¨íŠ¸ ê´€ë¦¬
   - ë¦´ë¦¬ìŠ¤ ì—…ê·¸ë ˆì´ë“œ
   - ë¡¤ë°±

6. RBAC
   - ê¶Œí•œ ê´€ë¦¬
   - ServiceAccount
   - Role/RoleBinding
```

---

## ğŸ’¡ ë„êµ¬ ì„ íƒ ê°€ì´ë“œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ìƒí™©              â”‚ ì¶”ì²œ ë„êµ¬                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë¹ ë¥¸ í™•ì¸          â”‚ k9s, lazydocker            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë¡œê·¸ ë¶„ì„          â”‚ stern, lnav                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ       â”‚ netshoot                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì„±ëŠ¥ ë¶„ì„          â”‚ Prometheus + Grafana       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì´ë¯¸ì§€ ìµœì í™”       â”‚ dive                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ í´ëŸ¬ìŠ¤í„° ê´€ë¦¬       â”‚ Lens, Rancher              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CI/CD í†µí•©        â”‚ kubectl, helm              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Best Practices:
1. ëª©ì ì— ë§ëŠ” ë„êµ¬ ì„ íƒ
2. TUI > CLI (íš¨ìœ¨ì„±)
3. ìë™í™” ê°€ëŠ¥í•œ ê²ƒì€ ìŠ¤í¬ë¦½íŠ¸
4. íŒ€ í‘œì¤€ ë„êµ¬ ì •ì˜
5. ëª¨ë‹ˆí„°ë§ í•„ìˆ˜ (Prometheus)
```

---

## ğŸ“ ì—°ìŠµ ë¬¸ì œ

### ë¬¸ì œ 1: CLI vs TUI vs GUI - ì–¸ì œ ë¬´ì—‡ì„ ì‚¬ìš©í•˜ëŠ”ê°€?

<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>

**CLI (Command Line):**
```bash
# ì¥ì :
- ìë™í™” ê°€ëŠ¥ (ìŠ¤í¬ë¦½íŠ¸)
- SSHë¡œ ì›ê²© ì ‘ì†
- ê°€ë³ê³  ë¹ ë¦„

# ì‚¬ìš©:
- CI/CD íŒŒì´í”„ë¼ì¸
- ìë™í™” ìŠ¤í¬ë¦½íŠ¸
- ì›ê²© ì„œë²„ ê´€ë¦¬
```

**TUI (Terminal UI):**
```bash
# ì¥ì :
- CLIì˜ ìë™í™” + GUIì˜ í¸ë¦¬í•¨
- ì‹œê°í™”
- ë¹ ë¥¸ íƒìƒ‰

# ì‚¬ìš©:
- ë¡œì»¬ ê°œë°œ
- ë””ë²„ê¹…
- ë¹ ë¥¸ ìƒíƒœ í™•ì¸

# ë„êµ¬: k9s, lazydocker, htop
```

**GUI:**
```
ì¥ì :
- ì§ê´€ì 
- í•™ìŠµ ê³¡ì„  ë‚®ìŒ
- ì‹œê°í™” ìš°ìˆ˜

ì‚¬ìš©:
- í´ëŸ¬ìŠ¤í„° ê´€ë¦¬ (Lens)
- ëŒ€ì‹œë³´ë“œ (Grafana)
- ë¹„ê°œë°œì

ë„êµ¬: Lens, Docker Desktop, Portainer
```

</details>

### ë¬¸ì œ 2: ë„êµ¬ê°€ ë„ˆë¬´ ë§ì•„ì„œ í˜¼ë€ìŠ¤ëŸ½ë‹¤ë©´?

<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>

**ìµœì†Œ í•„ìˆ˜ ë„êµ¬:**

**Docker:**
```bash
- docker (CLI)
- lazydocker ë˜ëŠ” ctop (ëª¨ë‹ˆí„°ë§)
- dive (ì´ë¯¸ì§€ ë¶„ì„)
```

**Kubernetes:**
```bash
- kubectl (CLI)
- k9s (TUI)
- stern (ë¡œê·¸)
```

**ë„¤íŠ¸ì›Œí¬:**
```bash
- nicolaka/netshoot (ë””ë²„ê¹… ì»¨í…Œì´ë„ˆ)
```

**ëª¨ë‹ˆí„°ë§:**
```bash
- Prometheus + Grafana
```

**í•™ìŠµ ìˆœì„œ:**
```
1. ê¸°ë³¸ CLI (docker, kubectl)
2. TUI (k9s, lazydocker)
3. ë¡œê·¸ (stern)
4. ë””ë²„ê¹… (netshoot)
5. ëª¨ë‹ˆí„°ë§ (Prometheus)
6. GUI (Lens) - ì„ íƒ
```

</details>

### ë¬¸ì œ 3: í”„ë¡œë•ì…˜ì—ì„œ ì–´ë–¤ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ëŠ”ê°€?

<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>

**í”„ë¡œë•ì…˜ ë„êµ¬:**

**1. ëª¨ë‹ˆí„°ë§ (í•„ìˆ˜)**
```
Prometheus + Grafana
- ë©”íŠ¸ë¦­ ìˆ˜ì§‘
- ì•Œë¦¼
- ëŒ€ì‹œë³´ë“œ
```

**2. ë¡œê·¸ (í•„ìˆ˜)**
```
ELK Stack ë˜ëŠ” Loki
- ì¤‘ì•™ ì§‘ì¤‘ì‹ ë¡œê·¸
- ê²€ìƒ‰ ë° ë¶„ì„
```

**3. Tracing (ê¶Œì¥)**
```
Jaeger ë˜ëŠ” Zipkin
- ë¶„ì‚° ì¶”ì 
- ì„±ëŠ¥ ë¶„ì„
```

**4. ë””ë²„ê¹… (í•„ìš” ì‹œ)**
```
kubectl, k9s
- ìƒíƒœ í™•ì¸
- ê¸´ê¸‰ ëŒ€ì‘
```

**5. ì‚¬ìš© ì•ˆ í•¨**
```
âŒ dive (ì´ë¯¸ì§€ ë¶„ì„) - CI/CDì—ì„œë§Œ
âŒ netshoot (ë””ë²„ê¹…) - í•„ìš” ì‹œë§Œ
âŒ GUI ë„êµ¬ - ë¡œì»¬ì—ì„œë§Œ
```

</details>

---

## ğŸ“Œ í•µì‹¬ ìš”ì•½

```
Diagnostic Tools í•µì‹¬:
1. ëª©ì ì— ë§ëŠ” ë„êµ¬
2. CLI + TUI ì¡°í•©
3. ìë™í™” (ìŠ¤í¬ë¦½íŠ¸)
4. ëª¨ë‹ˆí„°ë§ í•„ìˆ˜
5. íŒ€ í‘œì¤€ ë„êµ¬

Best Practices:
âœ… k9s (Kubernetes)
âœ… lazydocker (Docker)
âœ… stern (ë¡œê·¸)
âœ… Prometheus (ëª¨ë‹ˆí„°ë§)
âœ… netshoot (ë„¤íŠ¸ì›Œí¬)
```

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [k9s](https://k9scli.io/)
- [stern](https://github.com/stern/stern)
- [Lens](https://k8slens.dev/)
- [dive](https://github.com/wagoodman/dive)

---

## ğŸ¤” ìƒê°í•´ë³¼ ë¬¸ì œ

1. ëª¨ë“  ë„êµ¬ë¥¼ ë°°ì›Œì•¼ í•˜ëŠ”ê°€?
2. ìœ ë£Œ ë„êµ¬ë¥¼ ì‚¬ìš©í•  ê°€ì¹˜ê°€ ìˆëŠ”ê°€?
3. ë„êµ¬ ì˜ì¡´ë„ê°€ ë„ˆë¬´ ë†’ìœ¼ë©´?

> ğŸ’¡ **ë‹µë³€**:
> 
> **1) ì„ íƒì  í•™ìŠµ:**
> 
> ```
> âœ… í•„ìˆ˜:
> - kubectl, docker (ê¸°ë³¸)
> - k9s ë˜ëŠ” lazydocker (í•˜ë‚˜)
> - stern (ë¡œê·¸)
> 
> âœ… ì„ íƒ:
> - í•„ìš”ì— ë”°ë¼ ì¶”ê°€
> - íŒ€ í‘œì¤€ì— ë§ì¶°
> 
> âŒ ëª¨ë“  ë„êµ¬:
> - ì‹œê°„ ë‚­ë¹„
> - í˜¼ë€
> ```
> 
> **2) ìœ ë£Œ ë„êµ¬:**
> 
> ```
> ê³ ë ¤ì‚¬í•­:
> - ì‹œê°„ ì ˆì•½ > ë¹„ìš©
> - íŒ€ ê·œëª¨ (10ëª… ì´ìƒ)
> - ì—”í„°í”„ë¼ì´ì¦ˆ ì§€ì›
> 
> ì˜ˆ:
> - DataDog (ëª¨ë‹ˆí„°ë§)
>   â†’ $15/host/month
>   â†’ ì‹œê°„ ì ˆì•½ > ë¹„ìš©
> 
> - New Relic (APM)
>   â†’ ì‹¬ì¸µ ë¶„ì„ í•„ìš” ì‹œ
> ```
> 
> **3) ë„êµ¬ ì˜ì¡´:**
> 
> ```
> âš ï¸ ë¬¸ì œ:
> - ë„êµ¬ ì—†ìœ¼ë©´ ë””ë²„ê¹… ëª» í•¨
> - ì›ë¦¬ ì´í•´ ë¶€ì¡±
> 
> âœ… í•´ê²°:
> - ê¸°ë³¸ CLI ë¨¼ì € ìˆ™ë‹¬
> - ë„êµ¬ëŠ” ìƒì‚°ì„± í–¥ìƒìš©
> - ì›ë¦¬ ì´í•´ í•„ìˆ˜
> 
> ì˜ˆ:
> k9s ì‚¬ìš©í•˜ë˜
> kubectlë¡œë„ í•  ì¤„ ì•Œê¸°
> ```

---

<div align="center">

**[â¬…ï¸ ì´ì „: Common Problems](./05-Common-Problems.md)** | **[ğŸ  Debugging ì„¹ì…˜ ì™„ë£Œ!](./README.md)**

</div>
